<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Opcache-php7 | Prakash Kumar</title>
<meta name="generator" content="Jekyll v3.8.6" />
<meta property="og:title" content="Opcache-php7" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Workflow of php:" />
<meta property="og:description" content="Workflow of php:" />
<link rel="canonical" href="http://localhost:4000/webapplication/vulnerability/2019/01/19/opcache.html" />
<meta property="og:url" content="http://localhost:4000/webapplication/vulnerability/2019/01/19/opcache.html" />
<meta property="og:site_name" content="Prakash Kumar" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-01-19T07:53:00+05:30" />
<script type="application/ld+json">
{"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/webapplication/vulnerability/2019/01/19/opcache.html"},"@type":"BlogPosting","url":"http://localhost:4000/webapplication/vulnerability/2019/01/19/opcache.html","headline":"Opcache-php7","dateModified":"2019-01-19T07:53:00+05:30","datePublished":"2019-01-19T07:53:00+05:30","description":"Workflow of php:","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Prakash Kumar" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Prakash Kumar</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Opcache-php7</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2019-01-19T07:53:00+05:30" itemprop="datePublished">Jan 19, 2019
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p><strong>Workflow of php:</strong></p>

<p><strong>code-&gt;Lexical/syntactic anlysis == Tokens == —&gt; compilation === Bytecode —–&gt; Execution</strong> <br /><br />
 High level machine codes are converted into Tokens by the Lexical analysis phase. Tokens are the one which are pure level code after the removal of comments and linking of the common libraries. Then that are converted into Bytecode for Machine execution.</p>

<p><strong>OPcache Usage:</strong></p>

<p><strong>Skip the compilation and reach the bytecode</strong> <br />
<strong>3 step is reduced to 2 step</strong></p>

<p>By using the Opcache we can skip the compilation phase, because opcache will cache the content which is used once.</p>

<p><strong>sourcefile: <code class="highlighter-rouge">/var/www/html/index.php</code></strong></p>

<p><strong>cachefile: /tmp/OPcache/32-bit string/<code class="highlighter-rouge">var/www/html/index.php</code></strong></p>

<p><img src="https://user-images.githubusercontent.com/17383454/51431382-efa2e380-1c4d-11e9-9888-bf0067be82fc.png" alt="php.bin – binary cache file structure" /></p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">SYSTEM_ID --&gt;</span><span class="w"> </span>global <span class="nb">id</span> – php verify through this  
<span class="gp">php_info() --&gt;</span><span class="w"> </span>target – <span class="k">then </span>we get SYSTEM_ID   
</code></pre></div></div>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go"> SYSTEM_ID= md5(php_version + zend_extension_id + datatype_size)
</span></code></pre></div></div>

<ol>
  <li>find 32bit or 64 bit – victim</li>
  <li>find system_id – victim</li>
  <li>generate a cache file on local machine</li>
  <li>replace system_id in cache file</li>
  <li>overwrite victim cache file</li>
  <li>get a shell</li>
</ol>

<p>Data abstraction – providing only the necessary information  <br />
1.abstraction usig classes – public, private<br />
2.abstraction in header files</p>

  </div><a class="u-url" href="/webapplication/vulnerability/2019/01/19/opcache.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Prakash Kumar</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Prakash Kumar</li><li><a class="u-email" href="mailto:send2prakashkumar@gmail.com">send2prakashkumar@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/Github"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">Github</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>In this place you can find about the things which i came across in daily learning.  I tried to explain it from scratch. Happy learning :-)</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
